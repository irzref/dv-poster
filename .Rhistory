require(AER)
install.packages("AER")
require(AER)
install.packages("rio")
install.packages("curl")
install.packages("libcurl")
install.packages("curl")
install.packages("AER")
install.packages("AER")
install.packages("rio",dep=TRUE)
install.packages("AER")
require(AER)
data(CPS1985)
install.packages("AER",dep=TRUE)
install.packages("rgl")
require(rgl)
install.packages(c("maps", "mapdata"))
devtools::install_github("dkahle/ggmap")
install.packages("devtools")
devtools::install_github("dkahle/ggmap")
library(ggplot2)
library(ggmap)
library(maps)
library(mapdata)
indonesia <- map_data("indonesia")
indonesia <- map_data("usa")
indonesia <- map_data("china")
indonesia <- map_data("indonesia")
indonesia <- map_data("malaysia")
?map_data
indonesia <- map_data("australia")
indonesia <- map_data("singapore")
library("rgdal")
install.packages("rgdal")
install.packages("rgdal")
install.packages("rgdal")
install.packages("rgdal")
install.packages("rgdal"); library(rgdal)
exprt_destination <- read.csv("eksporperikanannasional.csv")
setwd("/home/irza/Projects/dv-poster")
library("ggplot2")
library("rgdal")
library(dplyr)
# dataset
exprt_origin <- read.csv("asalprovinsiekspor.csv")
exprt_destination <- read.csv("eksporperikanannasional.csv")
# remove the "other country"
exprt_destination_country <- exprt_destination[exprt_destination$NegaraID!=31,]
# aggregate by country and commodity
exprt_destination_by_country_commodity <- aggregate(exprt_destination_country$Volume, by=list(Commodity=exprt_destination_country$NamaKomoditi,Country=exprt_destination_country$Negara),FUN=sum)
colnames(exprt_destination_by_country_commodity)[3] <- "Volume"
# order the country by volume
exprt_destination_by_country_all_commodity <- exprt_destination_by_country_commodity[exprt_destination_by_country_commodity$Commodity=="semua komoditi - all commodities",]
exprt_destination_by_country_all_commodity <- exprt_destination_by_country_all_commodity[order(exprt_destination_by_country_all_commodity$Volume, decreasing = TRUE),]
# take top 8
exprt_destination_by_country_top_8 <- exprt_destination_by_country_all_commodity[1:8,]
exprt_destination_by_country_top_8_commodity <- exprt_destination_by_country_commodity[is.element(exprt_destination_by_country_commodity$Country, exprt_destination_by_country_top_8$Country),]
exprt_destination_by_country_top_8_commodity <- exprt_destination_by_country_top_8_commodity[exprt_destination_by_country_top_8_commodity$Commodity!="semua komoditi - all commodities",]
exprt_destination_by_country_top_8_commodity$CountryEng[exprt_destination_by_country_top_8_commodity$Country=="Cina"] <- "China"
exprt_destination_by_country_top_8_commodity$CountryEng[exprt_destination_by_country_top_8_commodity$Country=="Amerika Serikat"] <- "USA"
exprt_destination_by_country_top_8_commodity$CountryEng[exprt_destination_by_country_top_8_commodity$Country=="Hongkong"] <- "Hongkong"
exprt_destination_by_country_top_8_commodity$CountryEng[exprt_destination_by_country_top_8_commodity$Country=="Jepang"] <- "Jepan"
exprt_destination_by_country_top_8_commodity$CountryEng[exprt_destination_by_country_top_8_commodity$Country=="Malaysia"] <- "Malaysia"
exprt_destination_by_country_top_8_commodity$CountryEng[exprt_destination_by_country_top_8_commodity$Country=="Singapura"] <- "Singapore"
exprt_destination_by_country_top_8_commodity$CountryEng[exprt_destination_by_country_top_8_commodity$Country=="Taiwan"] <- "Taiwan"
exprt_destination_by_country_top_8_commodity$CountryEng[exprt_destination_by_country_top_8_commodity$Country=="Thailand"] <- "Thailand"
# set the order
exprt_destination_by_country_top_8_commodity$Total <- with(exprt_destination_by_country_top_8, Volume[match(exprt_destination_by_country_top_8_commodity$Country, Country)])
exprt_destination_by_country_top_8_commodity_ordered <- exprt_destination_by_country_top_8_commodity[order(exprt_destination_by_country_top_8_commodity$Total, decreasing = TRUE),]
exprt_destination_by_country_top_8_commodity$CountryEng <- factor(exprt_destination_by_country_top_8_commodity$CountryEng, levels = unique(exprt_destination_by_country_top_8_commodity$CountryEng[order(exprt_destination_by_country_top_8_commodity$Total, decreasing = TRUE)]))
ggplot(exprt_destination_by_country_top_8_commodity, aes(x = CountryEng, y = Volume, fill = Commodity)) +
geom_bar(stat = "identity") +
labs(x = "Country", y = "Volume in Kilogram", title = "Top 8 Export Destinations by Export Volume 2001 - 2012") +
theme(plot.title = element_text(hjust = 0.5))
